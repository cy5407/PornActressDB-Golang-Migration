# `/checklist` 命令快速參考

## 🎯 用途

**核心理念**: "Unit Tests for English" - 測試需求撰寫品質,而非實作行為

## 📖 基本語法

```bash
/checklist [描述] [領域/類型]
```

## 💡 使用範例

### 範例 1: UX 需求檢查

```bash
/checklist 生成 GUI 介面設計需求的品質檢查清單
```

生成檔案: `.specify/specs/001-feature/checklists/ux.md`

### 範例 2: API 需求檢查

```bash
/checklist 生成 REST API 端點需求的完整性檢查清單
```

生成檔案: `.specify/specs/001-feature/checklists/api.md`

### 範例 3: 安全需求檢查

```bash
/checklist 生成安全性和資料保護需求檢查清單
```

生成檔案: `.specify/specs/001-feature/checklists/security.md`

### 範例 4: 效能需求檢查

```bash
/checklist 生成效能和回應時間需求檢查清單
```

生成檔案: `.specify/specs/001-feature/checklists/performance.md`

## ✅ 正確的檢查清單項目 (測試需求品質)

```markdown
- [ ] CHK001 - 是否明確指定了 UI 元素的數量和佈局? [完整性, Spec §FR-1]
- [ ] CHK002 - 是否用具體的 ms 量化了"快速回應"? [清晰度, Spec §NFR-2]
- [ ] CHK003 - 所有端點的驗證需求是否一致? [一致性]
- [ ] CHK004 - 是否為錯誤情境定義了後備行為? [邊緣情況, Gap]
- [ ] CHK005 - 效能需求是否可客觀測量? [可測量性]
```

## ❌ 錯誤的檢查清單項目 (測試實作行為)

```markdown
❌ - [ ] CHK001 - 驗證登入頁面正確顯示
❌ - [ ] CHK002 - 測試 API 回傳 200 狀態碼
❌ - [ ] CHK003 - 確認按鈕點擊有效
❌ - [ ] CHK004 - 檢查錯誤訊息顯示正確
```

## 📊 品質維度

每個檢查清單項目應測試以下維度之一:

| 維度 | 問句範例 |
|------|---------|
| **完整性** | "是否為...定義了...?" |
| **清晰度** | "是否用具體的...量化了...?" |
| **一致性** | "...需求是否在...之間一致?" |
| **可測量性** | "是否可以客觀測量...?" |
| **覆蓋範圍** | "是否涵蓋了...情境?" |
| **差距** | "是否記錄了...? [Gap]" |

## 🔄 工作流程整合

### 方式 1: 自動生成 (規格階段)

```bash
/specify [功能描述]
# → 自動生成 checklists/requirements.md
```

### 方式 2: 手動生成 (澄清階段)

```bash
/clarify
# (完成澄清後)
/checklist 生成 [特定領域] 檢查清單
```

### 方式 3: 實作前驗證

```bash
/implement
# → 自動檢查所有 checklists/ 檔案完成度
# → 如果未完成 → 詢問是否繼續
```

## 📁 檔案結構

```
.specify/specs/001-actress-go/
├── spec.md
├── plan.md
├── tasks.md
└── checklists/
    ├── requirements.md    # /specify 自動生成
    ├── ux.md             # /checklist 手動生成
    ├── api.md            # /checklist 手動生成
    ├── security.md       # /checklist 手動生成
    └── performance.md    # /checklist 手動生成
```

## 🎯 檢查清單項目結構

```markdown
- [ ] CHK### - [問句] [維度標記, 規格參考]
       ^^^      ^^^      ^^^
       編號     問句     可追溯性
```

### 範例解析

```markdown
- [ ] CHK001 - 是否為所有 API 失敗模式定義了錯誤處理需求? [Gap]
       │       │                                               │
       │       問句: 詢問需求是否存在/清楚                    可追溯性標記
       編號: 按順序編號
```

## 🚨 常見錯誤

### 錯誤 1: 測試實作行為

```markdown
❌ - [ ] CHK001 - 驗證登入功能正常工作
✅ - [ ] CHK001 - 是否明確定義了登入驗證需求? [完整性]
```

### 錯誤 2: 缺少可追溯性

```markdown
❌ - [ ] CHK001 - 是否定義了效能需求?
✅ - [ ] CHK001 - 是否定義了效能需求? [Gap, Spec §NFR-3]
```

### 錯誤 3: 模糊問句

```markdown
❌ - [ ] CHK001 - 需求是否清楚?
✅ - [ ] CHK001 - 是否用具體的 ms 量化了"快速回應"? [清晰度]
```

### 錯誤 4: 混合維度

```markdown
❌ - [ ] CHK001 - 是否定義且一致且可測量效能需求?
✅ - [ ] CHK001 - 是否定義了效能需求? [完整性]
✅ - [ ] CHK002 - 效能需求是否可測量? [可測量性]
```

## 📚 常用檢查清單類型

| 類型 | 檔名 | 適用階段 | 重點 |
|------|------|---------|------|
| 需求品質 | `requirements.md` | 規格後 | 基本完整性 |
| UX/UI | `ux.md` | 設計規劃 | 介面互動 |
| API | `api.md` | API 設計 | 端點規格 |
| 安全 | `security.md` | 架構規劃 | 威脅防護 |
| 效能 | `performance.md` | 非功能需求 | 速度/規模 |
| 測試 | `testing.md` | 測試策略 | 測試覆蓋 |
| 部署 | `deployment.md` | 上線前 | 發布準備 |

## 🔍 完成度檢查 (implement.md 自動執行)

```
| 檢查清單 | 總計 | 已完成 | 未完成 | 狀態 |
|---------|------|--------|--------|------|
| requirements.md | 21 | 21 | 0 | ✓ 通過 |
| ux.md | 12 | 10 | 2 | ✗ 失敗 |
| api.md | 8 | 8 | 0 | ✓ 通過 |

某些檢查清單未完成。您想繼續實作嗎? (yes/no)
```

## 💡 最佳實踐

### 1. 項目數量

- ✅ 10-30 項: 理想範圍
- ⚠️ 30-50 項: 可接受,但考慮拆分
- ❌ >50 項: 太冗長,應拆成多個檢查清單

### 2. 問句格式

```markdown
✅ "是否為 [情境] 定義了 [需求類型]?"
✅ "是否用 [具體指標] 量化了 [模糊術語]?"
✅ "[元素 A] 和 [元素 B] 的需求是否一致?"
```

### 3. 可追溯性

- 最低 80% 的項目必須包含可追溯性標記
- 優先順序: `[Spec §X.Y]` > `[Gap]` > `[維度]`

### 4. 維度平衡

每個檢查清單應涵蓋多個維度:
- 完整性: 30-40%
- 清晰度: 20-30%
- 一致性: 15-20%
- 其他: 20-25%

## 🎓 進階用法

### 多維度檢查

```markdown
## 登入功能需求品質

### 完整性
- [ ] CHK001 - 是否為所有驗證方法定義了需求? [完整性]
- [ ] CHK002 - 是否記錄了失敗情境的後備機制? [Gap]

### 清晰度
- [ ] CHK003 - 是否用具體的秒數量化了"逾時"? [清晰度, Spec §FR-5]
- [ ] CHK004 - "安全密碼"的標準是否明確? [模糊性]

### 一致性
- [ ] CHK005 - 登入和註冊的驗證規則是否一致? [一致性]

### 邊緣情況
- [ ] CHK006 - 是否定義了併發登入嘗試的行為? [邊緣情況]
- [ ] CHK007 - 是否處理了帳號鎖定情境? [例外流程]
```

### 依優先順序組織

```markdown
## 關鍵需求 (P0 - 必須完成)
- [ ] CHK001 - 是否定義了所有 P0 功能需求? [完整性]
- [ ] CHK002 - P0 需求的驗收標準是否可測試? [可測量性]

## 重要需求 (P1 - 應該完成)
- [ ] CHK003 - 是否記錄了 P1 功能的相依性? [完整性]

## 可選需求 (P2 - 可以延後)
- [ ] CHK004 - P2 功能是否明確標記為可選? [清晰度]
```

## 🔗 相關命令

| 命令 | 用途 | 與 `/checklist` 的關係 |
|------|------|---------------------|
| `/specify` | 撰寫規格 | 自動生成 requirements.md |
| `/clarify` | 澄清需求 | 可選生成特定檢查清單 |
| `/analyze` | 分析一致性 | 補充檢查清單驗證 |
| `/implement` | 實作功能 | 自動檢查所有檢查清單 |

## 📞 疑難排解

### Q1: 檢查清單項目太多,如何縮減?

**A**: 合併相似項目,移除低風險項目

```markdown
❌ 分散的項目:
- [ ] CHK001 - 是否定義了按鈕顏色?
- [ ] CHK002 - 是否定義了按鈕尺寸?
- [ ] CHK003 - 是否定義了按鈕文字?

✅ 合併後:
- [ ] CHK001 - 是否完整定義了按鈕的視覺屬性 (顏色、尺寸、文字)? [完整性]
```

### Q2: 如何確保問句測試需求而非實作?

**A**: 使用以下問句模板

```markdown
✅ "是否定義/指定/記錄了...?"
✅ "是否用...量化/澄清了...?"
✅ "是否一致...?"
✅ "是否可以測量...?"
✅ "是否涵蓋了...?"

❌ "驗證/測試/確認...是否...?"
❌ "檢查...是否工作?"
❌ "...是否正確顯示?"
```

### Q3: `/implement` 檢查失敗,但我想繼續,怎麼辦?

**A**: 回答 "yes" 繼續,但建議先修正需求

```
某些檢查清單未完成。您想繼續實作嗎? (yes/no)
→ yes  # 繼續實作 (有風險)
→ no   # 停止實作,返回修正需求 (建議)
```

## 🎯 成功指標

### 品質提升

- ✅ 需求模糊性減少 40%+
- ✅ 實作返工減少 30%+
- ✅ 需求完整性提升至 85%+

### 使用習慣

- ✅ 每個功能至少 1 個檢查清單
- ✅ 實作前 100% 檢查清單完成
- ✅ 檢查清單項目 80%+ 包含可追溯性

---

**提示**: 將此文件加入書籤,每次使用 `/checklist` 前快速查閱!
